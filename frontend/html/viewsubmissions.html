<!-- <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
---- Include the above in your HEAD tag -------- -->

<!DOCTYPE html>
<html>

<head>
    <title>Quiz Page</title>
    <!--Made with love by Mutiullah Samim -->

    <!--Bootsrap 4 CDN-->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!--Fontawesome CDN-->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <!--Custom styles-->
    <link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>
    <ul>
        <form action="/logout.html">
            <input type="submit" class="logout" value="Logout" />
        </form>
    </ul>
    <h1 id="hometext" class="hometext">All Submissions</h1>
  <div class="row justify-content-center bsub" id="data"  >
  </div>
    <script>
        function call(id,name){
            const marks=document.querySelector("#marks").value
            fetch(`http://localhost:3000/anotherfeature/updatemarks`, {
         method: "POST",
         body: JSON.stringify({
        marks,
         id,
         name
        }),
  headers: {
    "Content-type": "application/json; charset=UTF-8",
    'Accept': 'application/json'
  }
})
  .then(response => {
    return response.json()
  })
  .then(response => {
      console.log(response)
      document.querySelector("#var").innerHTML=`<label for="date" class="lmarks">Enter Marks-${response.marks}</label>`
    })
        }
         const assignment=sessionStorage.getItem("assignment")
        fetch(`http://localhost:3000/anotherfeature/fetchsubmissions`, {
  method: "POST",
  body: JSON.stringify({
    assignment
  }),
  headers: {
    "Content-type": "application/json; charset=UTF-8",
    'Accept': 'application/json'
  }
})
  .then(response => {
    return response.json()
  })
  .then(response => {
      console.log(response);
      const result=response.data;
      let htmlCode=``;
      for(let c=0;c<result.length;c++) {
          if(!result[c].marks){
            htmlCode =
        htmlCode +
        
        `
                <div class="row sub justify-content-center">
                <h6 class="fname">Name- ${result[c].full_name}</h6>
                <h6 class="rollno">Roll No- ${result[c].rollno}</h6>
                <a href="${result[c].filepath}")' class="assi">Assignment</a>
                <div id="var">
                <label for="date" class="lmarks">Enter Marks-</label>
                <input type="number" class="marks" id="marks"> 
                <button type="button" id="${result[c].id}" onclick='call("${result[c].id}","${result[c].full_name}")' class="abutton">Submit</button>
                </div>
                </div>
              `;
          }
      else{
        htmlCode =
        htmlCode +
        
        `
                <div class="row sub justify-content-center">
                <h6 class="fname">Name- ${result[c].full_name}</h6>
                <h6 class="rollno">Roll No- ${result[c].rollno}</h6>
                <a href="${result[c].filepath}")' class="assi">Assignment</a>
                <div id="var">
                    <label for="date" class="lmarks">Enter Marks-${result[c].marks}</label>
                </div>
                </div>
              `;
      }
    }

    
    const cards = document.querySelector("#data");
    console.log(htmlCode)

    cards.innerHTML = htmlCode;
  });
    </script>
    
</body>

</html>